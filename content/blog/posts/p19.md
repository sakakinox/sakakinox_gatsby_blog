---
title: crowdinを使ってチームでgettextの翻訳をする
date: 2021-09-10
published: true
tags: ["develop","crowdin"]
---

チームでgettextの翻訳ファイルを作る必要がでてきたのでやり方を考えた
gitで管理しようと思ったがコンフリクトが面倒だったのでcrowdinを利用した。

## gettextとは

GUNプロジェクトのi18nライブラリ
.poとコンパイルされた.moで構成されている

.poは`msgid ""`と`msgstr ""`の組み合わせで構成されている翻訳ファイル
.moは.poをコンパイルして作るバイナリファイル



## gitで複数人で翻訳作業するとコンフリクトがすこぶるめんどくさい

はじめはgitで管理しようと思っていたのだが、どの範囲を翻訳するかと言った取り決めをしないとコンフリクトしたり、同じ行を翻訳した場合上書きされてしまうといったことが発生してめんどくさかった

## ローカライゼーションマネジメントプラットフォームを利用する

雰囲気としては翻訳用のgithubのようなもので、「どこ」を「いつ」、「だれが」書き換えたか明確になる、コンフリクトした場合もどちらかを選択できる
選ばなかったほうも消えることなく管理できる。今回は今使っていたpoファイルのエディタの`poedit`と連携が取れた`crowdin`を選択した。

## crowdin の所感

### crowdinを導入してよかった点

- 無料プランがあり、無料プランでも１つprivateプロジェクトが作ることが出来る
- 機械翻訳結果がオススメにでてくるのでとりあえず翻訳できる
- 翻訳レポートが見れるのでモチベにつながる
- poeditを使って直接編集できる
- APIが用意されていてビルドやテスト環境への反映がやりやすい
- コンフリクトを気にしなくてよくなり、スキマ時間にすこしずつ進めやすい

### crowdinを使うにあたっての不満

- サービスサイトがとても重いことが頻繁にある
- gettextの場合、`Language-Team:`,`Language:`の情報を勝手に書き換える

所感として今の所、利点しかない、サービスサイトが重くて繋がらないことが頻繁にあるのは困るが、今の所ヘビーユースしていないので気にならない（無料で使えているのでそこに文句は言えない）
情報を勝手に書き換えるのは少し困った問題で、原状の対応は強制的に書き換えているが、なにか手はあるのだろうか...

## 参考

https://crowdin.com/  
https://poedit.net/


おしまい

